<div class="container">
  <form [formGroup]="reviewForm" (ngSubmit)="onSubmit()">
    <label>Add review:</label>
    <app-review-stars
      [rating]="reviewForm.value.rating!"
      (onClick)="updateRating($event)"
    ></app-review-stars>
    <div>
      <label for="dateOfVisit">Date of visit:</label>
      <input
        type="date"
        id="dateOfVisit"
        [max]="maxDate"
        formControlName="dateOfVisit"
      />
    </div>
    <div>
      <label for="comment">Add a comment:</label>
      <textarea
        name="comment"
        id="comment"
        cols="30"
        rows="10"
        formControlName="comment"
      ></textarea>
    </div>
    <button type="submit" [disabled]="reviewForm.invalid">Add review</button>
  </form>
</div>

<section class="container">
  <ng-container *ngFor="let review of restaurant.reviews">
    <div class="review">
      <app-review-stars [rating]="review.rating"></app-review-stars>
      <h3>User: {{ review.commentedByUserName }}</h3>
      <h3>Comment:</h3>
      <p>{{ review.comment }}</p>
      <h3>Date of visit: {{ review.dateOfVisit }}</h3>
    </div>
  </ng-container>
</section>
